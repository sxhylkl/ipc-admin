define(["app","loadCss","myService","jQueryUI"],function(app,loadCss){loadCss.loadCss("res/lib/jquery-ui/jquery-ui.min.css"),loadCss.loadCss("res/css/home.css"),app.controller("homeController",function($scope,myService,$state,$timeout){$scope.currentlayOut=[{id:"item_1",title:"用户列表",router:"item1",w:300,h:200},{id:"item_2",title:"用户信息",router:"item1",w:300,h:200},{id:"item_3",title:"产品列表",router:"item1",w:300,h:200}],$scope.newModule={colWidth:"",title:"",id:"",colWidth:"",height:300,sref:""},$scope.showModel=!1,$scope.addPanel=function(){$scope.showModel=!0},$scope.ensure=function(){console.log($scope.newModule),$scope.currentlayOut.push($scope.newModule),$scope.showModel=!1,$scope.newModule={colWidth:"",title:"",id:"",colWidth:"",height:300,sref:""},$state.reload("home")},$scope.exit=function(){$scope.showModel=!1,$scope.newModule={colWidth:"",title:"",id:"",colWidth:"",height:300,sref:""}},$("#sortable").sortable({appendTo:"parent",cancel:".sort-disabled",containment:"#sortable",cursor:"move",handle:".sort-handle",items:".sort-item",revert:!0,scroll:!0,scrollSensitivity:100,tolerance:"pointer",update:function(){console.log("排序结束");var sortedIDs=$("#sortable").sortable("toArray");console.log(sortedIDs)}}),$scope.renderFinish=function(){$(".sort-item").resizable({autoHide:!0,grid:[0,30],stop:function(event,ui){console.log("尺寸调整结束"),console.log(ui.element[0].id),console.log(ui.size)}})},$scope.destoryItem=function(index){var con=confirm("确认？");console.log(index),con&&$scope.currentlayOut.splice(index,1)}})});