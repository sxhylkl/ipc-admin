<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <title>upload</title></head><body id="body"><div class="container">    <label>选择一张图片</label>    <input type="file" id="file_input" multiple></div><script>    window.onload = function(){        var input = document.getElementById('file_input');        var result,div;                if(typeof FileReader === 'undefined' ){            result.innerHTML = '抱歉，你的浏览器不支持FileReader';            input.setAttribute('disabled','disabled');        }else{            input.addEventListener('change',readFile,false);        }                function readFile(){            for(var i = 0;i<this.files.length;i++){                if(!input['value'].match(/.jpg|.gif|.png|.bmp/i)){//判断上传格式                    return alert('上传图片格式有误，请重新选择');                }                                var reader = new FileReader();                                reader.readAsDataURL(this.files[i]);                reader.onload = function(e){                    result = ' <div id="result"><img src=" ' + this.result + ' "></div>';                    div = document.createElement('div');                    div.innerHTML = result;                    document.body.appendChild(div); //插入dom树                }            }                        var fd = new FormData();            for(var i=0;i<this.files.length;i++){                var reader = new FIleReader();                reader.readAsDataURL(this.files[i]);                fd.append(i,this.files[i]);                $.ajax({                    url:'',     //post路径                    type:'POST',                    data:fd,                    success:function(data){                        console.log(data);                    }                })            }        }    }</script></body></html>